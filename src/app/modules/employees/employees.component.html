<div class="employees-container">
  <!-- Header Section -->
  <div class="employees-header">
    <div class="header-left">
      <div class="employee-count">
        <span class="count-number">{{ (filteredEmployees$ | async)?.length || 0 }}</span>
        <span class="count-label">Zaposleni</span>
      </div>
      
      <p-divider layout="vertical"></p-divider>
      
      <div class="search-section">
        <p-iconField iconPosition="left" class="search-field">
          <p-inputIcon styleClass="pi pi-search"></p-inputIcon>
          <input 
            pInputText 
            type="text" 
            [(ngModel)]="searchQuery" 
            (input)="filterEmployees()"
            placeholder="PretraÅ¾ite zaposlene..."
            class="search-input" />
        </p-iconField>
      </div>
    </div>

    <div class="header-right">
      <p-button 
        icon="pi pi-filter" 
        label="Filteri"
        [outlined]="true"
        severity="secondary"
        [rounded]="true"
        class="action-btn">
      </p-button>
      
      <p-button 
        icon="pi pi-download" 
        [text]="true"
        [rounded]="true"
        pTooltip="Izvoz"
        tooltipPosition="bottom"
        severity="secondary"
        class="action-btn">
      </p-button>
      
      <p-button 
        icon="pi pi-plus" 
        label="Dodaj zaposlenog"
        [rounded]="true"
        (onClick)="openAddEmployeeDialog()"
        class="add-btn">
      </p-button>
    </div>
  </div>

  <p-divider></p-divider>

  <!-- Employee Cards Grid -->
  <div class="employees-grid">
    <p-card 
      *ngFor="let employee of (filteredEmployees$ | async)" 
      class="employee-card"
      (click)="openEditEmployeeDialog(employee)">
      
      <!-- Card Header with Status -->
      <ng-template pTemplate="header">
        <div class="card-header">
          <p-tag 
            [value]="employee.isActive ? 'Aktivan' : 'Neaktivan'" 
            [severity]="employee.isActive ? 'success' : 'danger'"
            [rounded]="true">
          </p-tag>
        </div>
      </ng-template>

      <!-- Card Content -->
      <div class="card-content">
        <!-- Employee Avatar -->
        <div class="avatar-section">
          <p-avatar 
            [image]="employee.avatarUrl ? (apiUrl + employee.avatarUrl) : 'user-profile-image.png'"
            shape="circle" 
            size="xlarge"
            class="employee-avatar">
          </p-avatar>
        </div>

        <!-- Employee Info -->
        <div class="employee-info">
          <h3 class="employee-name">{{ employee.firstName }} {{ employee.lastName }}</h3>
          <p class="employee-role">{{ employee.jobRole }}</p>
        </div>

        <!-- Contact Details Card -->
        <div class="contact-details">
          <div class="detail-row">
            <div class="detail-item">
              <span class="detail-label">Odeljenje</span>
              <span class="detail-value">Dizajn tim</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Datum zaposlenja</span>
              <span class="detail-value">17/03/2021</span>
            </div>
          </div>
          
          <p-divider></p-divider>
          
          <div class="contact-row">
            <div class="contact-item">
              <i class="pi pi-envelope"></i>
              <span>{{ employee.contactEmail }}</span>
            </div>
            <div class="contact-item">
              <i class="pi pi-phone"></i>
              <span>{{ employee.contactPhone }}</span>
            </div>
          </div>
        </div>
      </div>
    </p-card>
  </div>
</div>

<!-- Toast for notifications -->
<p-toast position="top-right"></p-toast>
