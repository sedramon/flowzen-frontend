<div [@dialogPop] class="admin-dialog">
  <!-- Header -->
  <div class="admin-dialog__header">
    <div class="admin-dialog__icon">
      <i class="pi" [ngClass]="isEditMode ? 'pi-pencil' : 'pi-plus-circle'"></i>
    </div>
    <div class="admin-dialog__title">
      <h2>{{ isEditMode ? 'Izmeni uslugu' : 'Nova usluga' }}</h2>
      <p>{{ isEditMode ? 'Ažurirajte podatke o usluzi' : 'Kreirajte novu uslugu' }}</p>
    </div>
  </div>
  
  <!-- Content -->
  <div class="admin-dialog__content">
    <form [formGroup]="serviceForm" class="form-grid">
      <!-- Name - full width -->
      <div class="form-field full-width">
        <label class="field-label">
          <i class="pi pi-tag"></i>
          Naziv usluge
        </label>
        <input 
          pInputText 
          formControlName="name" 
          placeholder="Unesite naziv usluge"
          class="p-inputtext-lg w-full" />
        <small class="p-error" *ngIf="serviceForm.get('name')?.touched && serviceForm.get('name')?.hasError('required')">
          Naziv usluge je obavezan
        </small>
      </div>

      <!-- Price -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-dollar"></i>
          Cena
        </label>
        <p-inputnumber 
          formControlName="price"
          mode="decimal"
          [min]="0"
          [maxFractionDigits]="2"
          placeholder="0.00"
          styleClass="w-full"
          inputStyleClass="w-full">
        </p-inputnumber>
        <small class="p-error" *ngIf="serviceForm.get('price')?.touched && serviceForm.get('price')?.hasError('required')">
          Cena je obavezna
        </small>
        <small class="p-error" *ngIf="serviceForm.get('price')?.touched && serviceForm.get('price')?.hasError('min')">
          Minimalna cena je 0
        </small>
      </div>

      <!-- Duration -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-clock"></i>
          Trajanje (minuti)
        </label>
        <p-inputnumber 
          formControlName="durationMinutes"
          mode="decimal"
          [min]="1"
          [maxFractionDigits]="0"
          placeholder="30"
          styleClass="w-full"
          inputStyleClass="w-full">
        </p-inputnumber>
        <small class="p-error" *ngIf="serviceForm.get('durationMinutes')?.touched && serviceForm.get('durationMinutes')?.hasError('required')">
          Trajanje je obavezno
        </small>
        <small class="p-error" *ngIf="serviceForm.get('durationMinutes')?.touched && serviceForm.get('durationMinutes')?.hasError('min')">
          Minimum je 1 minut
        </small>
      </div>

      <!-- Active Checkbox - full width -->
      <div class="form-field full-width">
        <div class="checkbox-wrapper">
          <p-checkbox 
            formControlName="isActive"
            [binary]="true"
            inputId="isActive">
          </p-checkbox>
          <label for="isActive" class="checkbox-label">
            <i class="pi pi-check-circle"></i>
            Aktivna
          </label>
        </div>
      </div>
    </form>
  </div>

  <!-- Actions -->
  <div class="admin-dialog__actions">
    <p-button 
      label="Odustani" 
      [text]="true"
      (onClick)="close()">
    </p-button>
    <p-button 
      [label]="isEditMode ? 'Sačuvaj izmene' : 'Kreiraj uslugu'" 
      (onClick)="save()" 
      [disabled]="serviceForm.invalid">
    </p-button>
  </div>
</div>
