<div [@dialogPop] class="admin-dialog admin-dialog--large">
  <!-- Header -->
  <div class="admin-dialog__header">
    <div class="admin-dialog__icon">
      <i class="pi" [ngClass]="isEditMode ? 'pi-pencil' : 'pi-plus-circle'"></i>
    </div>
    <div class="admin-dialog__title">
      <h2>{{ isEditMode ? 'Izmeni dobavljača' : 'Novi dobavljač' }}</h2>
      <p>{{ isEditMode ? 'Ažurirajte podatke o dobavljaču' : 'Kreirajte novog dobavljača' }}</p>
    </div>
  </div>
  
  <!-- Content -->
  <div class="admin-dialog__content">
    <form [formGroup]="supplierForm" class="form-grid">
      <!-- Name - full width -->
      <div class="form-field full-width">
        <label class="field-label">
          <i class="pi pi-building"></i>
          Naziv dobavljača
        </label>
        <input 
          pInputText 
          formControlName="name" 
          placeholder="Unesite naziv dobavljača"
          class="p-inputtext-lg w-full" />
        <small class="p-error" *ngIf="supplierForm.get('name')?.touched && supplierForm.get('name')?.hasError('required')">
          Naziv dobavljača je obavezan
        </small>
      </div>

      <!-- Address - full width -->
      <div class="form-field full-width">
        <label class="field-label">
          <i class="pi pi-map-marker"></i>
          Adresa
        </label>
        <input 
          pInputText 
          formControlName="address" 
          placeholder="Unesite adresu"
          class="p-inputtext-lg w-full" />
        <small class="p-error" *ngIf="supplierForm.get('address')?.touched && supplierForm.get('address')?.hasError('required')">
          Adresa je obavezna
        </small>
      </div>

      <!-- City -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-map"></i>
          Grad
        </label>
        <input 
          pInputText 
          formControlName="city" 
          placeholder="Unesite grad"
          class="p-inputtext-lg w-full" />
        <small class="p-error" *ngIf="supplierForm.get('city')?.touched && supplierForm.get('city')?.hasError('required')">
          Grad je obavezan
        </small>
      </div>

      <!-- PIB -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-id-card"></i>
          PIB
        </label>
        <input 
          pInputText 
          formControlName="pib" 
          placeholder="Unesite PIB"
          class="p-inputtext-lg w-full" />
      </div>

      <!-- Email -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-envelope"></i>
          Email
        </label>
        <input 
          pInputText 
          type="email"
          formControlName="contactEmail" 
          placeholder="primer@email.com"
          class="p-inputtext-lg w-full" />
        <small class="p-error" *ngIf="supplierForm.get('contactEmail')?.touched && supplierForm.get('contactEmail')?.hasError('required')">
          Email je obavezan
        </small>
        <small class="p-error" *ngIf="supplierForm.get('contactEmail')?.touched && supplierForm.get('contactEmail')?.hasError('email')">
          Email nije u ispravnom formatu
        </small>
      </div>

      <!-- Phone -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-phone"></i>
          Telefon
        </label>
        <input 
          pInputText 
          type="tel"
          formControlName="contactPhone" 
          placeholder="0601234567"
          class="p-inputtext-lg w-full" />
        <small class="p-error" *ngIf="supplierForm.get('contactPhone')?.touched && supplierForm.get('contactPhone')?.hasError('required')">
          Telefon je obavezan
        </small>
      </div>

      <!-- Landline -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-phone"></i>
          Fiksni telefon
        </label>
        <input 
          pInputText 
          type="tel"
          formControlName="contactLandline" 
          placeholder="011123456"
          class="p-inputtext-lg w-full" />
      </div>

      <!-- Contact Person -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-user"></i>
          Kontakt osoba
        </label>
        <input 
          pInputText 
          formControlName="contactPerson" 
          placeholder="Unesite ime kontakt osobe"
          class="p-inputtext-lg w-full" />
      </div>

      <!-- Active -->
      <div class="form-field">
        <label class="field-label">
          <i class="pi pi-check-circle"></i>
          Aktivan
        </label>
        <p-select 
          formControlName="isActive"
          [options]="[
            {label: 'Da', value: true},
            {label: 'Ne', value: false}
          ]"
          optionLabel="label"
          optionValue="value"
          placeholder="Izaberite status"
          [appendTo]="'body'"
          styleClass="w-full">
        </p-select>
      </div>

      <!-- Remark - full width -->
      <div class="form-field full-width">
        <label class="field-label">
          <i class="pi pi-comment"></i>
          Napomena
        </label>
        <textarea 
          formControlName="remark" 
          rows="4"
          placeholder="Bilo kakve napomene ili komentari"
          class="w-full">
        </textarea>
      </div>
    </form>
  </div>

  <!-- Actions -->
  <div class="admin-dialog__actions">
    <p-button 
      label="Odustani" 
      [text]="true"
      (onClick)="close()">
    </p-button>
    <p-button 
      [label]="isEditMode ? 'Sačuvaj izmene' : 'Kreiraj dobavljača'" 
      (onClick)="save()" 
      [disabled]="supplierForm.invalid">
    </p-button>
  </div>
</div>
